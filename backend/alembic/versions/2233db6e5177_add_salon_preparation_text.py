"""add_salon_preparation_text

Revision ID: 2233db6e5177
Revises: 31b89ef5c9d0
Create Date: 2026-02-10 18:01:56.708437

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '2233db6e5177'
down_revision: Union[str, None] = '31b89ef5c9d0'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    op.add_column('salon_info', sa.Column('preparation_text', sa.Text(), server_default='', nullable=False))

    # Seed current Chocoo Skin preparation text into existing row
    chocoo_text = (
        "ðŸ”¹ Ð½Ð°ÐºÐ°Ð½ÑƒÐ½Ðµ Ð²ÐµÑ‡ÐµÑ€Ð¾Ð¼ Ð¸Ð»Ð¸ ÑƒÑ‚Ñ€Ð¾Ð¼ (Ð½Ð¾ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ Ñ‡ÐµÐ¼ Ð·Ð° 6 Ñ‡Ð°ÑÐ¾Ð² Ð´Ð¾ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹) "
        "Ñ€Ð°ÑÐ¿Ð°Ñ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¶Ñƒ Ð¸ Ð¿Ñ€Ð¾ÑÐºÑ€Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ Ñ‚ÐµÐ»Ð¾, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¾Ñ‡Ð°Ð»ÐºÑƒ Ð¸Ð»Ð¸ ÑÐºÑ€Ð°Ð±, "
        "Ð½Ð¾! Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð±ÐµÐ· Ð¼Ð°ÑÐµÐ» (ÑÐ°Ñ…Ð°Ñ€ + Ð³ÐµÐ»ÑŒ Ð´Ð»Ñ Ð´ÑƒÑˆÐ° - Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚; "
        "ÐºÐ¾Ñ„ÐµÐ¹Ð½Ñ‹Ðµ Ð¸ ÑÐ¾Ð»ÑÐ½Ñ‹Ðµ ÑÐºÑ€Ð°Ð±Ñ‹ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼), Ð¿Ð¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð½Ðµ Ð½Ð°Ð½Ð¾ÑÐ¸Ð¼ ÐºÑ€ÐµÐ¼ Ð½Ð° Ñ‚ÐµÐ»Ð¾\n"
        "ðŸ”¹ Ð¿ÐµÑ€ÐµÐ´ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ð¾Ð¹, ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ, ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¿Ñ€Ð¸Ð½ÑÑ‚ÑŒ Ð´ÑƒÑˆ Ð±ÐµÐ· Ð³ÐµÐ»Ñ, "
        "Ð¸ Ð½Ðµ Ð½Ð°Ð½Ð¾ÑÐ¸Ñ‚ÑŒ ÐºÑ€ÐµÐ¼Ð° Ð¸ Ð´ÐµÐ·Ð¾Ð´Ð¾Ñ€Ð°Ð½Ñ‚\n"
        "ðŸ”¹ Ð¾Ð´ÐµÐ¶Ð´Ð° - Ñ‚ÐµÐ¼Ð½Ñ‹Ñ… Ñ†Ð²ÐµÑ‚Ð¾Ð², ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð°Ñ Ð±ÐµÐ· Ð¿ÐµÑ€ÐµÑ‚ÑÐ³Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"
    )
    op.execute(
        sa.text("UPDATE salon_info SET preparation_text = :txt").bindparams(txt=chocoo_text)
    )


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('salon_info', 'preparation_text')
    # ### end Alembic commands ###
