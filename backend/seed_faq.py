"""
Seed-скрипт для загрузки FAQ в базу данных.

Запуск из корня проекта:
    cd backend
    python -m seed_faq

Или из директории backend:
    python seed_faq.py

Скрипт удаляет все существующие FAQ и загружает 30 новых.
"""

import asyncio

from sqlalchemy import delete

from app.core.database import async_session
from app.models.models import FaqItem

FAQ_DATA = [
    # ── Блок 1: Основы ──
    {
        "order_index": 1,
        "question": "Что такое моментальный загар?",
        "answer": "Это процедура, при которой мастер наносит на кожу лосьон с помощью специального оборудования с мелкодисперсным напылением. Никакого ультрафиолета — загар проявляется благодаря натуральному компоненту DHA (вытяжка из сахарного тростника), который вступает в реакцию с верхним слоем кожи и придает ей красивый бронзовый оттенок. Результат виден уже через пару часов, а полный цвет раскрывается за 12–24 часа.",
    },
    {
        "order_index": 2,
        "question": "Как это работает?",
        "answer": "Активный компонент DHA взаимодействует с аминокислотами в верхнем слое кожи — это полностью естественная химическая реакция (условно, как потемнение яблока на воздухе, только контролируемое). DHA не проникает в глубокие слои и не попадает в кровь. Он работает только с ороговевшими клетками на поверхности, поэтому процедура абсолютно безопасна.",
    },
    {
        "order_index": 3,
        "question": "Чем это отличается от солярия?",
        "answer": "Принципиальное отличие — ноль ультрафиолета. Солярий вызывает выработку меланина через UV-лучи, что несёт риски: фотостарение, ожоги, пигментные пятна. Моментальный загар — это окрашивание поверхности кожи без какого-либо облучения. Плюс результат за один сеанс (15–30 минут), а не за 5–10 походов в солярий.",
    },
    {
        "order_index": 4,
        "question": "Это безопасно?",
        "answer": "Да! DHA — единственный компонент для искусственного загара, одобренный FDA (Управление по санитарному надзору США). Европейский Научный комитет подтвердил безопасность DHA в определенной концентрации. Состав не проникает глубже верхнего слоя кожи, не попадает в кровоток. Мы используем профессиональные составы премиум-класса с ухаживающими компонентами.",
    },
    {
        "order_index": 5,
        "question": "Это выглядит натурально? Не будет ли «оранжевого» эффекта?",
        "answer": "Современные составы не имеют ничего общего с автозагарами из масс-маркета. Профессиональные растворы содержат пигменты с тёплым или оливковым подтоном, которые дают естественный бронзовый цвет. Мастер подбирает оттенок индивидуально под ваш тон кожи, так что результат выглядит как настоящий загар после отпуска.",
    },
    # ── Блок 2: Подготовка ──
    {
        "order_index": 6,
        "question": "Как подготовиться к процедуре?",
        "answer": "За 1–2 дня сделайте пилинг всего тела (скраб), уделяя внимание локтям, коленям, щиколоткам и пяткам — это обеспечит ровное покрытие. Перед скрабированием обязательно распарьте кожу, приняв ванную или горячий душ, далее можно использовать мочалку-перчатку или скраб без масел (сахар+гель для душа отличный вариант). Если планируете эпиляцию/бритьё — сделайте это минимум за 24 часа до сеанса, не совмещайте бритье и скраб в один день, чтобы не травмировать кожу. В день процедуры кожа должна быть чистой и сухой, без кремов и масел, дезодоранта и парфюма на теле.",
    },
    {
        "order_index": 7,
        "question": "Нужно ли делать эпиляцию или бритьё заранее?",
        "answer": "Да, но минимум за 24 часа до процедуры. После бритья или эпиляции поры остаются открытыми, и состав может забиться в них, оставив тёмные точки. 24–48 часов достаточно, чтобы кожа успокоилась и загар лёг равномерно.",
    },
    {
        "order_index": 8,
        "question": "Можно ли наносить крем или дезодорант перед процедурой?",
        "answer": "Нет! В день процедуры на кожу нельзя наносить ничего: ни крем, ни масло, ни дезодорант, ни парфюм. Любые средства создают барьер, который мешает составу впитаться равномерно. Просто примите душ и приходите с чистой сухой кожей.",
    },
    {
        "order_index": 9,
        "question": "В чём лучше прийти на процедуру?",
        "answer": "Надевайте свободную тёмную одежду и открытую обувь (шлёпанцы, сандалии). Тесная одежда может оставить следы, а светлая — испачкаться от бронзатора (он легко отстирывается, но лучше перестраховаться). После процедуры вам нужно будет одеться в эту же одежду, так что продумайте заранее. Отлично если одежда будет закрывать все тело (брюки и кофточка с длинным рукавом), не создавая складок кожи, в которых мы непроизвольно потеем.",
    },
    {
        "order_index": 10,
        "question": "Нужен ли пилинг перед загаром?",
        "answer": "Очень рекомендуем! Пилинг (скраб) — это главный секрет ровного и стойкого загара. Он убирает отмершие клетки и выравнивает поверхность кожи. Без пилинга состав может лечь пятнами, особенно на сухих участках. Делать его можно как за сутки до процедуры, так и не меньше чем за 6-8 часов до визита, но не перед самой процедурой — кожа должна успокоиться.",
    },
    # ── Блок 3: Процедура ──
    {
        "order_index": 11,
        "question": "Сколько длится процедура?",
        "answer": "Всего 15–20 минут. Само нанесение занимает около 10–15 минут на всё тело. Плюс немного времени на консультацию, подбор оттенка и одевание. Это значительно быстрее, чем сеанс в солярии, и результат — за один визит.",
    },
    {
        "order_index": 12,
        "question": "Как проходит сеанс?",
        "answer": "Вы раздеваетесь в отдельной изолированной зоне (можно в нижнем белье или без — как комфортнее). Мастер наносит состав с помощью профессионального оборудования — это мелкодисперсное распыление, без кисточек и губок. Защищаем ладони и ногти. Весь процесс занимает 10–15 минут, затем вы одеваетесь и можете сразу идти по делам.",
    },
    {
        "order_index": 13,
        "question": "Какие оттенки загара доступны?",
        "answer": "Мы предлагаем несколько оттенков: от лёгкого «только с моря» до насыщенного бронзового. Есть тёплые (золотистые), оливковые и нейтральные тона. Мастер подбирает оттенок индивидуально, учитывая ваш натуральный тон кожи и пожелания. Для первого раза обычно рекомендуем средний оттенок — он выглядит максимально натурально. Палитры с оттенками нет, так как каждая кожа имеет свои особенности и результат не получается одинаковым у всех.",
    },
    {
        "order_index": 14,
        "question": "Как быстро проявляется цвет?",
        "answer": "Сразу после нанесения вы уже увидите цвет — это бронзатор (временный пигмент-проводник). Настоящий загар от DHA начинает проявляться через 2–4 часа и достигает максимальной глубины через 8–24 часа. Поэтому не пугайтесь, если перед первым душем вы будете очень яркая (это двойной эффект — бронзатор + кожа), а после первого душа цвет покажется светлее — он продолжит развиваться.",
    },
    {
        "order_index": 15,
        "question": "Можно ли сделать загар только на лицо или ноги?",
        "answer": "Процедура включает нанесение на все тело, но в некоторых ситуациях это возможно. Стоимость и возможность нанесения на отдельные зоны — уточняйте у мастера.",
    },
    # ── Блок 4: После процедуры ──
    {
        "order_index": 16,
        "question": "Когда можно принять душ после процедуры?",
        "answer": "Для классического состава — через 8–12 часов. Первый душ — только тёплой водой, без мыла, гелей и мочалок, массирующими движениями, до чистой воды. Просто ополоснитесь и аккуратно промокните кожу полотенцем, не растирая. Мастер вам предоставит памятку с рекомендациями по уходу после процедуры.",
    },
    {
        "order_index": 17,
        "question": "Как ухаживать за загаром, чтобы он держался дольше?",
        "answer": "Главное правило — увлажнение! Наносите лёгкий лосьон (без масел и спирта) каждый день. Принимайте тёплый (не горячий) душ, не используйте скрабы и жёсткие мочалки. Избегайте средств с AHA/BHA кислотами — они ускоряют обновление кожи и «съедают» загар. При хорошем уходе загар держится до 10–14 дней. Мастер вам предоставит памятку с рекомендациями по уходу после процедуры.",
    },
    {
        "order_index": 18,
        "question": "Пачкает ли загар одежду и постельное бельё?",
        "answer": "До первого душа бронзатор (верхний временный слой) может немного переходить на ткань. Поэтому, если вы делаете процедуру на ночь, в первую ночь лучше использовать тёмное постельное бельё и надеть свободную тёмную пижаму. Не волнуйтесь — все следы легко отстирываются в обычной стирке. После первого душа ничего уже не пачкается.",
    },
    {
        "order_index": 19,
        "question": "Можно ли заниматься спортом после процедуры?",
        "answer": "Первые 8–12 часов (до первого душа) — нет. Пот мешает составу равномерно проявиться и может вызвать разводы. После первого душа можно спокойно тренироваться. Просто помните, что частое потоотделение в целом ускоряет сход загара, так же тесная спортивная одежда может повреждать загар в определенных зонах.",
    },
    {
        "order_index": 20,
        "question": "Можно ли плавать в бассейне или море?",
        "answer": "Первые 24 часа — нельзя. После этого — можно, но загар будет сходить быстрее. Хлорированная вода в бассейне особенно агрессивна — она сушит кожу и ускоряет отшелушивание. Морская вода мягче, но тоже влияет. Совет: нанесите водостойкий лосьон перед купанием.",
    },
    {
        "order_index": 21,
        "question": "Можно ли ходить в баню или сауну?",
        "answer": "Крайне не рекомендуем на протяжении всего периода загара. Высокая температура + пар + обильное потоотделение — это тройной удар по загару. Баня и сауна буквально «смывают» загар. Если баня для вас важна — запланируйте её до процедуры, а не после. Также советуем при походе в сауну не тереть кожу, чтобы она не скатывалась.",
    },
    {
        "order_index": 22,
        "question": "Сколько держится загар?",
        "answer": "В среднем 7–14 дней. При правильном уходе (ежедневное увлажнение, мягкий душ, отсутствие скрабов) загар может продержаться до 2–3 недель. При выполнении рекомендаций по подготовке и уходу — сходит загар постепенно и равномерно, без резких границ.",
    },
    # ── Блок 5: Безопасность ──
    {
        "order_index": 23,
        "question": "Кому нельзя делать моментальный загар?",
        "answer": "Противопоказания: открытые раны и порезы, кожные заболевания в стадии обострения (экзема, псориаз, дерматит), свежие незажившие татуировки (либо их заклеиваем и закрываем), солнечные ожоги, недавние химические пилинги или лазерные процедуры (подождите полного заживления). Если у вас есть аллергия на компоненты состава или на любые косметические средства — обязательно сообщите мастеру.",
    },
    {
        "order_index": 24,
        "question": "Можно ли делать моментальный загар при беременности?",
        "answer": "DHA не проникает в кровоток и не влияет на плод. Многие дерматологи считают процедуру безопасной при беременности. Однако есть нюансы: гормональные изменения могут сделать кожу более чувствительной, а запах состава может усилить токсикоз. Мы рекомендуем проконсультироваться с вашим врачом.",
    },
    {
        "order_index": 25,
        "question": "Можно ли делать при кормлении грудью?",
        "answer": "Да, DHA не попадает в кровоток и не проникает в грудное молоко. Единственное — необходимо закрыть область груди, можно делать загар в белье или в студии вам предоставят стикини. В остальном процедура безопасна. Рекомендуем предупредить мастера о кормлении при записи на процедуру.",
    },
    {
        "order_index": 26,
        "question": "А если у меня аллергия?",
        "answer": "Лосьоны гипоаллергенны, это подтверждено сертификатами, в целом аллергия на DHA встречается крайне редко, но индивидуальная непереносимость возможна. Также в составе могут быть ароматизаторы и растительные экстракты. Если вы склонны к аллергии и у вас есть аллергия на какие-то косметические продукты, предупредите мастера при записи. Возможно мы сделаем тест-пробу: нанесем состав на запястье или за ухом и подождем 24 часа. Если кожа не покраснела и не зудит — всё в порядке. Если у вас проявилась аллергия на DHA — обязательно предупредите нас.",
    },
    {
        "order_index": 27,
        "question": "Есть ли возрастные ограничения?",
        "answer": "Строгих медицинских ограничений нет, до 18-ти лет проводим процедуру с согласия родителей, или с 18 лет самостоятельно. Верхнего ограничения по возрасту нет — моментальный загар подходит для любого возраста, главное — отсутствие противопоказаний.",
    },
    # ── Блок 6: Частые вопросы ──
    {
        "order_index": 28,
        "question": "Защищает ли моментальный загар от солнца?",
        "answer": "Нет! Это очень важно: моментальный загар НЕ содержит SPF и НЕ защищает от ультрафиолета. Даже с очень тёмным загаром ваша кожа остаётся такой же уязвимой к солнечным ожогам. Обязательно используйте солнцезащитный крем SPF 30+ при нахождении на солнце.",
    },
    {
        "order_index": 29,
        "question": "Влияет ли моментальный загар на татуировки?",
        "answer": "На зажившие татуировки — нет. DHA работает только на поверхности кожи, а чернила тату находятся в более глубоких слоях. Загар может немного приглушить яркость цветов тату (из-за тонированного слоя поверх), но это временно и уходит вместе с загаром. На незажившие тату наносить состав нельзя — ждем полного заживления тату, либо заклеиваем зону.",
    },
    {
        "order_index": 30,
        "question": "Как часто можно повторять процедуру?",
        "answer": "Рекомендуем делать новый загар каждые 7–14 дней — как раз когда предыдущий начнёт сходить. Перед повторным сеансом обязательно сделайте пилинг, чтобы убрать остатки старого загара и обеспечить ровное покрытие. Медицинских ограничений по частоте нет — DHA безвреден. Многие наши клиенты поддерживают загар круглый год, обновляя его каждые 10–12 дней.",
    },
]


async def seed():
    async with async_session() as session:
        # Удаляем старые FAQ
        await session.execute(delete(FaqItem))
        await session.flush()

        # Вставляем новые
        for item in FAQ_DATA:
            faq = FaqItem(
                question=item["question"],
                answer=item["answer"],
                order_index=item["order_index"],
            )
            session.add(faq)

        await session.commit()
        print(f"FAQ загружен: {len(FAQ_DATA)} вопросов/ответов")


if __name__ == "__main__":
    asyncio.run(seed())
